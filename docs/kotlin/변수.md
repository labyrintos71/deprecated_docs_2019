---
layout: default
title: 변수
parent: Kotlin
nav_order: 1
---
# 변수
{: .no_toc}

---

## 코틀린 변수 선언 기본형태
```kotlin
// var/val 변수명:변수타입 = 초기화 값
   var name:String = "name"
```
####  Space

## val/var
```kotlin
// val로 객체를 선언할 경우 초기화 후에도 객체의 프로퍼티값은 변경 가능
val = 한번 초기화 후 읽기만 가능한 final 변수
var = 읽기/쓰기 가능한 변수
```
####  Space

## Non-Null/Nullable
null을 값으로 가질 수 있으면 Nullable, null을 값으로 가질 수 없으면 Non-null타입
```kotlin
// 에러     
var a:String = null
```
String 은 Non-Null타입이기 떄문에 null 을 가질 수 없고, 초기화도 안할 수 없습니다.  
만약 선언만 하고싶은 상황이라면 이는 추후에 설명할 lateinit 으로 해결 할 수 있습니다.

Nullable로 선언하고싶으면 변수 자료형 뒤에 ? 붙이면 사용 가능하다.
```kotlin
var a:String? = null
println(a?.length) //null 출력됨    
```  
####  Space

## Elvis op, ?:
코틀린에는 삼항 연산자가 없습니다.  
대신에 엘비스 머리를 닮은 연산자가 있습니다!
엘비스 연산자는 좌항이 null 일경우에 우항값을 반환합니다.
```kotlin
var a:String? = null
println(a?.length ?: -1) // -1
a = "str"
println(a?.length ?: -1) // 3
```
####  Space

## Safe Calls, ?. 
코틀린에서는 ?. 연산자를 이용해 null값에 대해 안전하게 변수를 지정하고 불러 올 수 있습니다.
```kotlin
class Call {
     var name: String? = null

}
fun safeCallsTest() {
        val call: Call? = Call()
        val str: String = call?.name ?: "Null text"
        println(str) // Null text
}
```
####  Space

## Type cast, is, as?
스마트 캐스트인 is 를 이용하면 as를 사용하지 않고도 type을 변환할 수 있습니다.
단 as를 바로 사용하여 casting 할때 type이 맞지 않으면 ClassCastException이 발생합니다.

따라서 kotlin에서는 이를 방지하는 as? 를 지원합니다.
as? 는 casting을 시도하고, casting이 불가능 하면 null을 반환합니다.
```kotlin
class As {
    fun As() {
        val str: String = "This is Int?"
        val value: Int = str as? Int ?: 0
        println(value) // 0
    }
}
```
####  Space

## Not null, !!
Null값이 안들어온다는 보증을 해주는 연산자입니다.
Null이 아닌값만 들어올 때 사용해야 하며 Null이 들어오게 될경우 NPE를 발생시킵니다.
```kotlin
var str:String? = "TEST"
var nnstr:String = str!!
```
####  Space

## lateinit
안드로이드에서 변수선언은 클래스의 위쪽에서 하고 초기화는 onCreat()메소드에서 하는경우가 많습니다.

####  Space
## let
let 함수는 자신의 receiver 객체를 람다식 내부로 넘겨줍니다.
지금 단계에서는 깊이 이해할 필요는 없습니다. 
다만 not null 일 경우에 지정된 구문을 실행할 상황에 사용해주시면 됩니다.
```kotlin
fun sendEmailTo(email: String) { 
println("Sending email to $email") 
} 
fun main(args: Array) { 
var email: String? = "let@example.com" 
email?.let { sendEmailTo(it) } // Sending email to let@example.com
email = null 
email?.let { sendEmailTo(it) } // 실행되지 않음
}

```
